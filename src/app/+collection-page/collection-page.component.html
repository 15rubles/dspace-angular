<div class="collection-page">
  <div *ngIf="(collectionData | async)?.hasSucceeded" @fadeInOut>
    <div *ngIf="(collectionData | async)?.payload; let collectionPayload">
      <!-- Collection Name -->
      <ds-comcol-page-header
        [name]="collectionPayload.name">
      </ds-comcol-page-header>
      <!-- Collection logo -->
      <ds-comcol-page-logo *ngIf="logoData"
        [logo]="(logoData | async)?.payload"
        [alternateText]="'Collection Logo'">
      </ds-comcol-page-logo>
      <!-- Introductionary text -->
      <ds-comcol-page-content
        [content]="collectionPayload.introductoryText"
        [hasInnerHtml]="true">
      </ds-comcol-page-content>
      <!-- News -->
      <ds-comcol-page-content
        [content]="collectionPayload.sidebarText"
        [hasInnerHtml]="true"
        [title]="'community.page.news'">
      </ds-comcol-page-content>
      <!-- Copyright -->
      <ds-comcol-page-content
        [content]="collectionPayload.copyrightText"
        [hasInnerHtml]="true">
      </ds-comcol-page-content>
      <!-- Licence -->
      <ds-comcol-page-content
        [content]="collectionPayload.license"
        [title]="'collection.page.license'">
      </ds-comcol-page-content>
    </div>
  </div>
  <ds-error *ngIf="(collectionData | async)?.hasFailed" message="{{'error.collection' | translate}}"></ds-error>
  <ds-loading *ngIf="(collectionData | async)?.isLoading" message="{{'loading.collection' | translate}}"></ds-loading>
  <br>
  <div *ngIf="(itemData | async)?.hasSucceeded" @fadeIn>
    <h2>{{'collection.page.browse.recent.head' | translate}}</h2>
    <ds-object-list
      [config]="paginationConfig"
      [sortConfig]="sortConfig"
      [objects]="(itemData | async)"
      [hideGear]="false"
      (paginationChange)="onPaginationChange($event)">
    </ds-object-list>
  </div>
  <ds-error *ngIf="(itemData | async)?.hasFailed" message="{{'error.recent-submissions' | translate}}"></ds-error>
  <ds-loading *ngIf="!(itemData | async) || (itemData | async).isLoading" message="{{'loading.recent-submissions' | translate}}"></ds-loading>
</div>

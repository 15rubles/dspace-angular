<div [ngClass]="{
    'table-warning': fieldUpdate.changeType === 0,
    'table-danger': fieldUpdate.changeType === 2,
    'table-success': fieldUpdate.changeType === 1
}" class="d-flex">
    <!--{{metadata?.uuid}}-->
    <td class="col-3">
        <div *ngIf="!(editable | async)">
            <span>{{metadata?.key}}</span>
        </div>
        <div *ngIf="(editable | async)" class="field-container">
            <ds-input-suggestions [suggestions]="(metadataFieldSuggestions | async)"
                                  [(ngModel)]="metadata.key"
                                  (submitSuggestion)="update()"
                                  (clickSuggestion)="update()"
                                  (typeSuggestion)="update()"
                                  (findSuggestions)="findMetadataFieldSuggestions($event)"
                                  [formControl]="formControl"
                                  ngDefaultControl
            ></ds-input-suggestions>
        </div>
        <small class="text-danger"
               *ngIf="!(valid | async)">{{"item.edit.metadata.metadatafield.invalid" | translate}}</small>
    </td>
    <td class="col-7">
        <div *ngIf="!(editable | async)">
            <span>{{metadata?.value}}</span>
        </div>
        <div *ngIf="(editable | async)" class="field-container">
            <textarea class="form-control" type="textarea" [(ngModel)]="metadata.value" [dsDebounce]
                      (onDebounce)="update()"></textarea>
        </div>
    </td>
    <td class="col-1 text-center">
        <div *ngIf="!(editable | async)">
            <span>{{metadata?.language}}</span>
        </div>
        <div *ngIf="(editable | async)" class="field-container">
            <input class="form-control" type="text" [(ngModel)]="metadata.language" [dsDebounce]
                   (onDebounce)="update()"/>
        </div>
    </td>
    <td class="col-1 text-center">
        <div>
            <i *ngIf="canSetEditable() | async" class="fas fa-edit fa-fw text-primary"
               (click)="setEditable(true)"></i>
            <i *ngIf="canSetUneditable() | async" class="fas fa-check fa-fw text-success"
               (click)="setEditable(false)"></i>
            <i *ngIf="canRemove() | async" class="fas fa-trash-alt fa-fw text-danger"
               (click)="remove()"></i>
            <i *ngIf="canUndo() | async" class="fas fa-undo-alt fa-fw text-warning"
               (click)="removeChangesFromField()"></i>
        </div>
    </td>
</div>
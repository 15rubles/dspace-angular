  <div class="modal-header">
    <h4 class="modal-title">{{'context-menu.actions.subscription.title' | translate}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="c('cancel')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="subscriptionForm">
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                  <label for="type">{{ 'context-menu.actions.subscription.type' | translate }}</label>
                  <select (change)="typeChanged($event)" ([ngModel])="selectedType" id="type" class="custom-select">
                      <option [selected]="type.value == selectedType" *ngFor="let type of types" [value]="type.value">
                          {{ 'context-menu.actions.subscription.'+type.value | translate}}
                      </option>
                  </select>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6" *ngFor="let control of subscriptionForm.controls; index as i">
              <div *ngIf="!!control" class="col-md-12">
                   <div class="custom-control custom-checkbox">
                    <label class="checkbox-label">
                      {{ control.get('type').value == 'content' ? 'Content:' : 'Statistics:' }}
                    </label>
                  </div>
              </div>
              <div class="col-md-12" *ngFor="let frequency of frequencies; let j=index">
                  <input [id]="'checkbox-'+i+j" (change)="selectCheckbox($event,i,frequency.value)" [checked]="getIsChecked(control,frequency)" value="{{frequency.value}}" type="checkbox" /> 
                  <label [for]="'checkbox-'+i+j">{{ 'context-menu.actions.subscription.'+frequency.name | translate }}</label>
              </div>
              <div *ngIf="!!submitted" class="alert">
                <div *ngIf="control.get('subscriptionParameterList').errors?.required">
                  {{ 'context-menu.actions.subscription.frequency.required' | translate }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="c('cancel')">{{'context-menu.actions.request-correction.confirm.cancel' | translate}}</button>
    <button *ngIf="!!subscriptions && subscriptions.length > 0" type="button" (click)="delete()" class="btn btn-danger" [disabled]="(processing$ | async)">
      <span *ngIf="(processing$ | async)"><i class='fas fa-circle-notch fa-spin'></i> {{'submission.workflow.tasks.generic.processing' | translate}}</span>
      <span *ngIf="!(processing$ | async)">{{'context-menu.actions.subscription.delete' | translate}}</span>
    </button>
    <button type="button" (click)="submit()" class="btn btn-success" [disabled]="(processing$ | async)">
      <span *ngIf="(processing$ | async)"><i class='fas fa-circle-notch fa-spin'></i> {{'submission.workflow.tasks.generic.processing' | translate}}</span>
      <span *ngIf="!(processing$ | async)">{{'context-menu.actions.subscription.confirm.submit' | translate}}</span>
    </button>
  </div>
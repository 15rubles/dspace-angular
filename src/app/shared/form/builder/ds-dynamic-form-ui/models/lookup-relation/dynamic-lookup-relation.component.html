<script src="dynamic-lookup-relation.component.ts"></script>
<div>
    <div *ngIf="model.repeatable || !model.value" class="form-row align-items-center">
        <div class="col">
            <input class="form-control"
                   [class.is-invalid]="showErrorMessages"
                   [value]="modalValuesString"
                   [disabled]="model.disabled"
                   [type]="model.inputType"
                   [placeholder]="model.placeholder | translate"
                   [readonly]="model.readOnly">
        </div>
        <div class="col-auto text-center">
            <button class="btn btn-secondary"
                    type="button"
                    ngbTooltip="{{'form.lookup-help' | translate}}"
                    placement="top"
                    (click)="openLookup(); $event.stopPropagation();">{{'form.lookup' | translate}}
            </button>
        </div>
        <div class="col-auto text-center">
            <button class="btn btn-secondary"
                    type="button"
                    ngbTooltip="{{'form.add-help' | translate}}"
                    #tooltip = ngbTooltip
                    placement="top"
                    [disabled]="!hasResultsSelected()"
                    (click)="add(); tooltip.close(); $event.stopPropagation();">{{'form.add' | translate}}
            </button>
        </div>
    </div>
    <div class="mt-3">
        <ul class="list-unstyled">
            <li *ngFor="let value of model.value">
                <button type="button" class="close float-left" aria-label="Close button"
                        (click)="removeSelection(value.uuid)">
                    <span aria-hidden="true">&times;</span>
                </button>
                <span class="d-inline-block align-middle ml-1">{{value.name}}</span>
                <input [dynamicId]="bindId && model.id"
                           [name]="model.name"
                           type="hidden"
                           [ngModel]="value.uuid"
                           [disabled]="true"
                           [readonly]="true">
            </li>
        </ul>
    </div>
</div>

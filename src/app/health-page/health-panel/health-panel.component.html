<p class="h2">{{'health-page.status' | translate}} : <ds-health-status [status]="healthResponse.status"></ds-health-status></p>
<div class="mb-3 border-bottom " *ngFor="let entry of healthResponse.components | dsObjNgFor" data-test="component">
  <div class="w-100 d-flex justify-content-between py-2 mb-0" (click)="collapse.toggle()">
    <button type="button" class="btn btn-link p-0 " (click)="$event.preventDefault()" [attr.aria-expanded]="!collapse.collapsed"
            aria-controls="collapseExample">
      <span class="h4">{{ entry.key | titlecase }}</span>
    </button>
    <div class="d-inline-block">
      <span><ds-health-status [status]="entry.value?.status"></ds-health-status></span>
      <span *ngIf="collapse.collapsed" class="ml-2 fas fa-chevron-down"></span>
      <span *ngIf="!collapse.collapsed" class="ml-2 fas fa-chevron-up"></span>
    </div>
  </div>
  <div #collapse="ngbCollapse" [ngbCollapse]="isCollapsed">
    <div class="card border-0">
      <div class="card-body">
        <ds-health-component [healthComponent]="entry.value" [healthComponentName]="entry.key"></ds-health-component>
      </div>
    </div>
  </div>
</div>

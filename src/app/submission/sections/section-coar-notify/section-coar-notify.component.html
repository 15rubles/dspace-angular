<div>
  <ng-container *ngIf="patternsLoaded">
    <div *ngFor="let pattern of patterns; let i = index" class="col mt-3">
        <label class="mt-2 row">Request {{ pattern }} at the following service</label>
        <div class="row">
          <select [(ngModel)]="selectedServices[pattern]" class="form-control col">
            <option *ngFor="let service of (ldnServicesRD$ | async)?.payload?.page" [value]="service">
              {{ service.name }}
            </option>
          </select>
          {{selectedServices[pattern]?.name}}
          <div class="col-sm-1">
            <button (click)="removeService(i)" class="btn btn-outline-dark trash-button">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
      <small class="row">Select a service for {{ pattern }} of this item</small>
      <ds-alert *ngIf="selectedServices[pattern]" class="row ds-alert-box" [dismissible]="false" [type]="AlertTypeEnum.Success">
        <img class="coar-img-submission" src="../../../../assets/images/notify_logo.png" alt="Coar-Notify-Pattern">
        <ng-container >
          The selected service is compatible with the item according to its current status. {{ selectedServices[pattern].name }}: {{ selectedServices[pattern].description }}
        </ng-container>
      </ds-alert>
      <span (click)="addService()"
            class="add-pattern-link mb-2 row">{{ 'ldn-new-service.form.label.addPattern' | translate }}</span>
    </div>
  </ng-container>
</div>

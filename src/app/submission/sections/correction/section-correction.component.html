<ng-container *ngIf="showTable()">
  <table class="table table-striped correction-item-table">
    <thead>
    <tr>
      <th>{{'submission.sections.correction.column.metadata' | translate}}</th>
      <th>{{'submission.sections.correction.column.previous-value' | translate}}</th>
      <th>{{'submission.sections.correction.column.current-value'|translate}}</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let correction of getItemData()" class="correction-row">
      <td>{{correction.label}}</td>
      <td>
        <ng-container *ngIf="correction.oldValues.length==0">-</ng-container>
        <ng-container *ngIf="correction.oldValues.length==1">{{correction.oldValues[0]}}</ng-container>
        <ul *ngIf="correction.oldValues.length>1">
          <li *ngFor='let value of correction.oldValues'>
            {{value}}
          </li>
        </ul>
      </td>
      <td>
        <ng-container *ngIf="correction.newValues.length==0">-</ng-container>
        <ng-container *ngIf="correction.newValues.length==1">{{correction.newValues[0]}}</ng-container>
        <ul *ngIf="correction.newValues.length>1">
          <li *ngFor='let value of correction.newValues'>
            {{value}}
          </li>
        </ul>
      </td>
    </tr>

    </tbody>
  </table>
  <br/>
  <table class="table table-striped correction-bitstream-table" >
    <thead>
    <tr>
      <th>{{'submission.sections.correction.column.file' | translate}}</th>
      <th>{{'submission.sections.correction.column.previous-value' | translate}}</th>
      <th>{{'submission.sections.correction.column.current-value'|translate}}</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let correction of getFileData()" class="correction-row">
      <td>{{correction.filename}}</td>
      <td>
        <ng-container *ngIf="correction.metadata.length==0">-</ng-container>
        <ng-container *ngFor='let metadata of sortMetadataByLabel(correction.metadata)'>
          <div *ngFor='let value of metadata.oldValues'>
            {{metadata.label}}: {{value}}
          </div>
        </ng-container>
        <div *ngFor='let policy of correction.policies'>
          {{policy.label}}: {{policy.oldValue ? policy.oldValue : '-'}}
        </div>
      </td>
      <td>
        <ng-container *ngIf="correction.metadata.length==0">-</ng-container>
        <ng-container *ngFor='let metadata of sortMetadataByLabel(correction.metadata)'>
          <div *ngFor='let value of metadata.newValues'>
            {{metadata.label}}: {{value}}
          </div>
        </ng-container>
        <div *ngFor='let policy of correction.policies'>
          {{policy.label}}: {{policy.newValue ? policy.newValue : '-'}}
        </div>
      </td>
    </tr>

    </tbody>
  </table>
</ng-container>

<ds-loading *ngIf="isLoading" message="Loading..."></ds-loading>

<ng-container *ngIf="(sectionData$ | async)?.matches.length == 0">
  <div class="row">
    <div class="col-md-12">
      <h3 class="text-center"><span class="text-muted">No duplicated yet.</span></h3>
    </div>
  </div>
</ng-container>

<ng-container
  *ngIf="(totalMatch$ | async) > 0">
  <div class="alert alert-danger" role="alert">
    {{ disclaimer | async }}
  </div>

  <ds-pagination
    [paginationOptions]="config"
    [collectionSize]="(totalMatch$ | async)"
    [sortOptions]="sortConfig"
    [hideGear]="true"
    [hidePagerWhenSinglePage]="false"
    (pageChange)="setPage($event)">

    <ul class="list-unstyled">
      <li *ngFor="let item of (sectionData$ | async)?.matches | dsObjNgFor
    | paginate: {id: config.id, itemsPerPage: config.pageSize, currentPage: config.currentPage}; let i = index; let l = last"
          class="mt-4 mb-4"
          [class.border-bottom]="!l">
        <ds-duplicate-match
          *ngVar="(i + (config.currentPage-1)*config.pageSize) as totalIndex"
          [sectionId]="sectionData.id"
          [match]="item.value"
          [submissionId]="submissionId"
          [index]=totalIndex
          [itemId]="item.key"></ds-duplicate-match>
      </li>
    </ul>
  </ds-pagination>
</ng-container>

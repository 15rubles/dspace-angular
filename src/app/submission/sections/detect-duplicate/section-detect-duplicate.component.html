<ds-loading *ngIf="isLoading" message="Loading..."></ds-loading>

<ng-container *ngIf="(totalMatch$ | async) === 0">
  <ds-alert [type]="AlertTypeEnum.Info" [content]="('submission.sections.detect-duplicate.disclaimer-no-match' | translate)"></ds-alert>
</ng-container>

<ng-container *ngIf="(totalMatch$ | async) > 0">
  <ds-alert [type]="AlertTypeEnum.Warning" [content]="(disclaimer | async)"></ds-alert>

  <ds-pagination
    [paginationOptions]="config"
    [collectionSize]="(totalMatch$ | async)"
    [sortOptions]="sortConfig"
    [hideGear]="true"
    [hidePagerWhenSinglePage]="false"
    [doUpdateRoute]="false"
    (pageChange)="setPage($event)">

    <ul class="list-unstyled">
      <li *ngFor="let item of (sectionData$ | async)?.matches | dsObjNgFor
    | paginate: {id: config.id, itemsPerPage: config.pageSize, currentPage: config.currentPage}; let i = index; let l = last"
          class="mt-4 mb-4"
          [class.border-bottom]="!l">
        <ds-duplicate-match
          *ngVar="(i + (config.currentPage-1)*config.pageSize) as totalIndex"
          [sectionId]="sectionData.id"
          [match]="item.value"
          [submissionId]="submissionId"
          [index]=totalIndex
          [itemId]="item.key"></ds-duplicate-match>
      </li>
    </ul>
  </ds-pagination>
</ng-container>

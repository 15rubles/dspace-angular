<div dsBox #box="boxRef" [mandatory]="mandatory" [animation]="animations">
  <ngb-accordion #acc="ngbAccordion" (panelChange)="box.panelChange($event)" activeIds="{{ data.idBox }}">
    <ngb-panel id="{{ data.idBox }}" >
      <ng-template ngbPanelTitle>
        <span>{{ data.name }}</span>
        <div class="d-inline-block float-right">
          <i class="fa fa-exclamation-circle text-warning mr-3" aria-hidden="true"></i>
          <a class="close" aria-label="Close">
            <span *ngIf="box.isOpen()" class="fa fa-angle-up fa-fw" aria-hidden="true"></span>
            <span *ngIf="!box.isOpen()" class="fa fa-angle-down fa-fw" aria-hidden="true"></span>
          </a>
          <a class="close mr-3" *ngIf="box.isOptional()">
            <i class="fa fa-trash-o" aria-hidden="true"></i>
          </a>
        </div>
      </ng-template>
      <ng-template ngbPanelContent>
        <div class="card-block">
          <ng-container
            *ngTemplateOutlet="boxContent">
          </ng-container>
        </div>
      </ng-template>
    </ngb-panel>
  </ngb-accordion>
</div>
